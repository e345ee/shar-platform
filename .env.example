# ------------------------------
# Ports (used by docker-compose)
# ------------------------------
BACKEND_PORT=8080
FRONTEND_PORT=3000
FRONTEND_CONTAINER_PORT=80

# Postgres container listens on 5432; this is the HOST port you publish
POSTGRES_HOST_PORT=5433
POSTGRES_PORT=5432

# MinIO API + Console ports
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Optional: for scripts (e2e_test.sh/email.sh)
# BASE_URL=http://localhost:${BACKEND_PORT}

# ------------------------------
# Backend runtime config
# ------------------------------
APP_MAIL_ENABLED=false
APP_MAIL_FROM=no-reply@course.local

# Postgres (JDBC) - when running locally WITHOUT docker you can point to localhost:${POSTGRES_HOST_PORT}
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres

# Postgres (psql helpers) - used by Makefile to apply SQL scripts.
PGHOST=localhost
PGDATABASE=course_db
PGUSER=postgres
PGPASSWORD=postgres
PGSSLMODE=prefer

# MinIO / S3-compatible storage
APP_S3_ENDPOINT=http://127.0.0.1:${MINIO_PORT}
APP_S3_REGION=us-east-1
APP_S3_ACCESS_KEY=minioadmin
APP_S3_SECRET_KEY=minioadmin
APP_S3_BUCKET=avatars
APP_S3_PUBLIC_URL=http://127.0.0.1:${MINIO_PORT}

# CORS (backend) – comma-separated
APP_CORS_ALLOWED_ORIGINS=http://localhost:${FRONTEND_PORT},http://127.0.0.1:${FRONTEND_PORT}

# Frontend (build-time) – baked into React build
REACT_APP_API_URL=http://localhost:${BACKEND_PORT}

# SMTP (optional)
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your_gmail@gmail.com
SPRING_MAIL_PASSWORD=your_google_app_password
SPRING_MAIL_SMTP_AUTH=true
SPRING_MAIL_SMTP_STARTTLS=true

# Backend config (recommended: split host/port/name)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=course_db
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSLMODE=disable

# S3/MinIO endpoint (split host/port)
APP_S3_HOST=localhost
APP_S3_PORT=9000
APP_S3_PUBLIC_HOST=localhost
APP_S3_PUBLIC_PORT=${MINIO_PORT}
